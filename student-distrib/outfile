gcc -MM -nostdinc -g asm_linkage.S boot.S paging_asm.S syscall_asm.S x86_desc.S exceptions.c file_system_driver.c idt.c kernel.c lib.c paging.c syscall.c syscall_helpers.c terminal.c tests.c  devices/i8259.c devices/keyboard.c devices/pit.c devices/rtc.c > Makefile.dep
gcc -Wall -fno-builtin -fno-stack-protector -nostdlib -nostdinc -g  -c -o exceptions.o exceptions.c
gcc -Wall -fno-builtin -fno-stack-protector -nostdlib -nostdinc -g  -c -o file_system_driver.o file_system_driver.c
gcc -Wall -fno-builtin -fno-stack-protector -nostdlib -nostdinc -g  -c -o idt.o idt.c
gcc -Wall -fno-builtin -fno-stack-protector -nostdlib -nostdinc -g  -c -o kernel.o kernel.c
gcc -Wall -fno-builtin -fno-stack-protector -nostdlib -nostdinc -g  -c -o lib.o lib.c
gcc -Wall -fno-builtin -fno-stack-protector -nostdlib -nostdinc -g  -c -o paging.o paging.c
gcc -Wall -fno-builtin -fno-stack-protector -nostdlib -nostdinc -g  -c -o syscall.o syscall.c
gcc -Wall -fno-builtin -fno-stack-protector -nostdlib -nostdinc -g  -c -o syscall_helpers.o syscall_helpers.c
gcc -Wall -fno-builtin -fno-stack-protector -nostdlib -nostdinc -g  -c -o terminal.o terminal.c
gcc -Wall -fno-builtin -fno-stack-protector -nostdlib -nostdinc -g  -c -o tests.o tests.c
gcc -Wall -fno-builtin -fno-stack-protector -nostdlib -nostdinc -g  -c -o devices/pit.o devices/pit.c
rm -f bootimg
gcc -nostdlib -static boot.o asm_linkage.o paging_asm.o syscall_asm.o x86_desc.o exceptions.o file_system_driver.o idt.o kernel.o lib.o paging.o syscall.o syscall_helpers.o terminal.o tests.o devices/i8259.o devices/keyboard.o devices/pit.o devices/rtc.o -Ttext=0x400000 -o bootimg
sudo ./debug.sh
